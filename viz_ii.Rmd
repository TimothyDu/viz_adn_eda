---
title: "viz i"
output: github_document
---

```{r setup}
library(tidyverse)
library(patchwork)
```

```{r}
weather_df=read_csv("./weather_df.csv", na=c("NA","","."))

weather_df
```

##remember this plot?
```{r}
weather_df %>% 
  ggplot(aes(x= tmin, y =tmax, color=name)) +
  geom_point(alpha=0.5)
```

## labels
```{r}
weather_df %>% 
  ggplot(aes(x= tmin, y =tmax, color=name)) +
  geom_point(alpha=0.5)+
  labs(
    ttle="temperature plot",
    x="minimum daily temp",
    y="maximum daily temp",
    caption="data from rnoaa pakage; temparature in 2017."
  )
```

## scales 
start with the same plot

```{r}
weather_df %>% 
  ggplot(aes(x= tmin, y =tmax, color=name)) +
  geom_point(alpha=0.5)+
  labs(
    ttle="temperature plot",
    x="minimum daily temp",
    y="maximum daily temp",
    caption="data from rnoaa pakage; temparature in 2017."
  )+
  scale_x_continuous(
    breaks=c(-15,0,15),
    labels=c("-15 c", "0","15")
  ) +
  scale_y_continuous(
    trans="sqrt", #squreroot transformation
    position= "right"
  )

```


```{r}
weather_df %>% 
  ggplot(aes(x= tmin, y =tmax, color=name)) +
  geom_point(alpha=0.5)+
  labs(
    ttle="temperature plot",
    x="minimum daily temp",
    y="maximum daily temp",
    caption="data from rnoaa pakage; temparature in 2017."
  )+
  scale_x_continuous(
    breaks=c(-15,0,15),
    labels=c("-15 c", "0","15")
  ) +
  scale_y_continuous(
    trans="log" #log transformation
  )
```


```{r}
weather_df %>% 
  ggplot(aes(x= tmin, y =tmax, color=name)) +
  geom_point(alpha=0.5)+
  labs(
    ttle="temperature plot",
    x="minimum daily temp",
    y="maximum daily temp",
    caption="data from rnoaa pakage; temparature in 2017."
  ) +
  viridis::scale_color_viridis(
    name = "lacation",
    discrete = TRUE)
```

## themes
shift the legend
```{r}
weather_df %>% 
  ggplot(aes(x= tmin, y =tmax, color=name)) +
  geom_point(alpha=0.5)+
  labs(
    title="temperature plot",
    x="minimum daily temp",
    y="maximum daily temp",
    caption="data from rnoaa pakage; temparature in 2017."
  ) +
  viridis::scale_color_viridis(
    name = "lacation",
    discrete = TRUE) +
  theme(legend.position="bottom")
```

 change the overall theme
```{r}
weather_df %>% 
  ggplot(aes(x= tmin, y =tmax, color=name)) +
  geom_point(alpha=0.5)+
  labs(
    title="temperature plot",
    x="minimum daily temp",
    y="maximum daily temp",
    caption="data from rnoaa pakage; temparature in 2017."
  ) +
  viridis::scale_color_viridis(
    name = "lacation",
    discrete = TRUE) +
    theme_bw() ## theme balck and white 
```

```{r}
weather_df %>% 
  ggplot(aes(x= tmin, y =tmax, color=name)) +
  geom_point(alpha=0.5)+
  labs(
    title="temperature plot",
    x="minimum daily temp",
    y="maximum daily temp",
    caption="data from rnoaa pakage; temparature in 2017."
  ) +
  viridis::scale_color_viridis(
    name = "lacation",
    discrete = TRUE) +
    theme_minimal() ## theme balck and white 
```
```{r}
weather_df %>% 
  ggplot(aes(x= tmin, y =tmax, color=name)) +
  geom_point(alpha=0.5)+
  labs(
    title="temperature plot",
    x="minimum daily temp",
    y="maximum daily temp",
    caption="data from rnoaa pakage; temparature in 2017."
  ) +
  viridis::scale_color_viridis(
    name = "lacation",
    discrete = TRUE) +
    theme_classic() ## theme balck and white but without borders 
```
```{r}
weather_df %>% 
  ggplot(aes(x= tmin, y =tmax, color=name)) +
  geom_point(alpha=0.5)+
  labs(
    title="temperature plot",
    x="minimum daily temp",
    y="maximum daily temp",
    caption="data from rnoaa pakage; temparature in 2017."
  ) +
  viridis::scale_color_viridis(
    name = "lacation",
    discrete = TRUE) +
    ggthemes:: theme_economist() ## theme economist
```

```{r}
weather_df %>% 
  ggplot(aes(x= tmin, y =tmax, color=name)) +
  geom_point(alpha=0.5)+
  labs(
    title="temperature plot",
    x="minimum daily temp",
    y="maximum daily temp",
    caption="data from rnoaa pakage; temparature in 2017."
  ) +
  viridis::scale_color_viridis(
    name = "lacation",
    discrete = TRUE) +
    ggthemes::theme_excel() ## theme excel
```

## sequence matters for theme_minimal and bottom position
```{r}
weather_df %>% 
  ggplot(aes(x= tmin, y =tmax, color=name)) +
  geom_point(alpha=0.5)+
  labs(
    title="temperature plot",
    x="minimum daily temp",
    y="maximum daily temp",
    caption="data from rnoaa pakage; temparature in 2017."
  ) +
  viridis::scale_color_viridis(
    name = "lacation",
    discrete = TRUE) +
    theme_minimal() +
  theme(legend.position="bottom")
```

## setting options
```{r, eval = FALSE}
library(tidyverse)

knitr::opts_chunk$set(
  fig.width = 6,
  fig.asp= .6, #heigh/weigh
  out.width ="90%"
)

theme_set(theme_minimal() + theme(legend.position = "bottom"))

options(
  ggplot2.continous.color ="viridis",
  ggplot2.continous.fill ="viridis"
)

scale_color_discrete =scale_color_viridis_d
scale_fill_discrete =scale_fill_viridis_d
```

## data args in 'geom'

```{r}
central_park =
  weather_df %>% 
  filter(name == "CentralPark_NY")

Molakai=
  weather_df %>% 
  filter( name == "Molokai_HI")


ggplot (data = Molakai, aes(x= date, y =tmax, color=name)) +
  geom_point()+
  geom_line(data=central_park)

```


## patchwork

```{r}
weather_df %>% 
  ggplot(aes(x=tmin,fill=name))+
  geom_density(alpha=0.5) +
  facet_grid(. ~ name)
```

what happens when you want multipanel plots but cannot facet
```{r}
tmax_tmin_p=
  weather_df %>% 
  ggplot(aes(x=tmin, y=tmax, color=name))+
  geom_point(alpha=0.5)+
  theme(legend.position ="none")

prcp_dens_p=
  weather_df %>% 
  filter(prcp>0) %>% 
  ggplot(aes(x=prcp, fill=name)) +
  geom_density(alpha=0.5)+
  theme(legend.position ="none")

tmax_date_p=
  weather_df %>%
  ggplot(aes(x=date, y=tmax, color=name))+
  geom_point()+
  geom_smooth(se=FALSE)+
  theme(legend.position ="none")

tmax_tmin_p+(prcp_dens_p+tmax_date_p)

tmax_tmin_p/(prcp_dens_p+tmax_date_p) # create a patch and put plots together

```


## data minupulation
control yourt factors:
```{r}
weather_df %>%
  mutate(
    name=factor(name), 
    name = forcats::fct_relevel(name,c("Molokai_HI"))
  ) %>% 
  ggplot(aes(x=name, y=tmax, fill=name))+
  geom_violin(alpha=0.5)
```


what if i wanted densities for tmin and tamax simultaneously
```{r}
weather_df %>%
  filter(name== "CentralPark_NY") %>% 
  pivot_longer(
    tmax:tmin,
    names_to= "observation",
    values_to ="temperatures"
  ) %>% 
  ggplot(aes(x=temperatures, fill=observation)) +
  geom_density(alpha=0.5)
```

now i create three plots using facet and not justing focusing on centralpark_ny
```{r}
weather_df %>%
  pivot_longer(
    tmax:tmin,
    names_to= "observation",
    values_to ="temperatures"
  ) %>% 
  ggplot(aes(x=temperatures, fill=observation)) +
  geom_density(alpha=0.5)+
  facet_grid(.~name)
```















